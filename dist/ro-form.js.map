{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 5a5272ed95dc62be5314","webpack:///external \"react\"","webpack:///external \"prop-types\"","webpack:///./components/_FormContext.js","webpack:///./index.js","webpack:///./components/Form.jsx","webpack:///./components/_memoize.js","webpack:///./components/FormControl.jsx"],"names":["FormContext","formData","onFormDataChange","Form","FormControl","_memoizedContext","_parentContext","value","_value","name","_onFormDataChange","_getContext","parentContext","props","changes","onChange","Object","keys","forEach","onFieldChange","field","_handleSubmit","e","onSubmit","preventDefaultSubmit","preventDefault","children","className","content","Component","propTypes","PropTypes","object","func","string","bool","defaultProps","memoize","argFns","fn","config","equalityFn","ArgEquality","identity","didRun","lastArgs","lastResult","ctx","runFn","result","apply","args","fnArgs","map","argFn","argsSame","every","arg","index","a","b","_onChange","path","formName","context","join","controlProps","ControlComponent","control","any","isRequired","oneOfType","arrayOf","undefined","contextType"],"mappings":"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","file":"ro-form.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ro-form\", [\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ro-form\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"ro-form\"] = factory(root[\"react\"], root[\"prop-types\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5a5272ed95dc62be5314","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = 1\n// module chunks = 0","import { createContext } from 'react';\n\nconst FormContext = createContext({\n  formData: {},\n  onFormDataChange: {},\n});\n\nexport default FormContext;\n\n\n\n// WEBPACK FOOTER //\n// ./components/_FormContext.js","import Form from './components/Form';\nimport FormControl from './components/FormControl';\n\nexport {\n  Form,\n  FormControl,\n};\n\n\n// WEBPACK FOOTER //\n// ./index.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport memoize from './_memoize';\nimport FormContext from './_FormContext';\n\nclass Form extends Component {\n  static propTypes = {\n    value: PropTypes.object,\n    onChange: PropTypes.func,\n    onSubmit: PropTypes.func,\n    name: PropTypes.string,\n    onFieldChange: PropTypes.func,\n    className: PropTypes.string,\n    preventDefaultSubmit: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    value: {},\n    onChange: () => {},\n    onFieldChange: () => {},\n    name: '_RoForm',\n    preventDefaultSubmit: true,\n  };\n\n  _memoizedContext = memoize(\n    [\n      ({ formData }) => formData,\n      ({ onFormDataChange }) => onFormDataChange,\n      (_parentContext, value) => value,\n      (_parentContext, _value, name) => name\n    ],\n    (formData, onFormDataChange, value, name) => ({\n      formData: { ...formData, [name]: value },\n      onFormDataChange: { ...onFormDataChange, [name]: this._onFormDataChange },\n    })\n  );\n\n  _getContext = (parentContext) => {\n    const { name, value } = this.props;\n\n    return this._memoizedContext(parentContext, value, name);\n  };\n\n  _onFormDataChange = (changes) => {\n    this.props.onChange({ ...this.props.value, ...changes });\n    Object.keys(changes).forEach(field => this.props.onFieldChange(field, changes[field]));\n  };\n\n  _handleSubmit = (e) => {\n    const { onSubmit, preventDefaultSubmit } = this.props;\n    \n    if (preventDefaultSubmit) {\n      e.preventDefault();\n    }\n    onSubmit(e);\n  };\n\n  render() {\n    const { children, onSubmit, className } = this.props;\n\n    let content;\n    if (onSubmit) {\n      content = (\n        <form onSubmit={this._handleSubmit} className={className}>\n          {children}\n        </form>\n      );\n    } else {\n      content = (\n        <div className={className}>{children}</div>\n      );\n    }\n\n    return (\n      <FormContext.Consumer>\n        {parentContext => (\n          <FormContext.Provider value={this._getContext(parentContext)}>\n            {content}\n          </FormContext.Provider>\n        )}\n      </FormContext.Consumer>\n    );\n  }\n}\n\nexport default Form;\n\n\n\n// WEBPACK FOOTER //\n// ./components/Form.jsx","const memoize = function(argFns, fn, config) {\n  config = config || {};\n  let equalityFn = config.equalityFn || memoize.ArgEquality.identity;\n\n  let didRun = false;\n  let lastArgs, lastResult;\n  let ctx = this;\n  const runFn = args => {\n    didRun = true;\n    const result = fn.apply(ctx, args);\n    lastArgs = args;\n    lastResult = result;\n    return result;\n  };\n  return function(...args) {\n    const fnArgs = argFns.map(function(argFn) {\n      return argFn.apply(ctx, args);\n    });\n    if (!didRun) {\n      return runFn(fnArgs);\n    } else {\n      const argsSame = fnArgs.every(function(arg, index) {\n        return equalityFn(arg, lastArgs[index]);\n      });\n      if (argsSame) {\n        return lastResult;\n      } else {\n        return runFn(fnArgs);\n      }\n    }\n  };\n};\n\nmemoize.ArgEquality = {\n  identity: function(a, b) {\n    return a === b;\n  },\n};\n\nexport default memoize;\n\n\n\n// WEBPACK FOOTER //\n// ./components/_memoize.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FormContext from './_FormContext';\n\nclass FormControl extends Component {\n  static propTypes = {\n    control: PropTypes.any.isRequired,\n    controlProps: PropTypes.object,\n    formName: PropTypes.string,\n    path: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n\n    // Handle onChange manually\n    onChange: PropTypes.func,\n    // Pass value manually\n    value: PropTypes.any,\n  };\n\n  static defaultProps = {\n    controlProps: {},\n    formName: '_RoForm',\n    onChange: null,\n    value: undefined,\n  };\n\n  static contextType = FormContext;\n\n  _onChange = (value) => {\n    const { path, formName, onChange } = this.props;\n\n    if (onChange) {\n      onChange(value);\n    } else {\n      this.context.onFormDataChange[formName]({ [path]: value });\n    }\n  };\n\n  _value = () => {\n    const { value, path, formName } = this.props;\n    const { formData } = this.context;\n\n    if (typeof value === 'undefined') {\n      return formData[formName][path];\n    } else {\n      return value;\n    }\n  };\n\n  componentWillMount() {\n    const { formData } = this.context;\n    if (!formData) {\n      throw 'FormControl must be a child of Form component';\n    }\n    if (!formData[this.props.formName]) {\n      throw `FormControl is bound to \"${this.props.formName}\" name, but forms found are: ${Object.keys(formData).join(', ')}`;\n    }\n  }\n\n  render() {\n    const { controlProps } = this.props;\n\n    const ControlComponent = this.props.control;\n\n    return <ControlComponent {...controlProps} value={this._value()} onChange={this._onChange} />;\n  }\n}\n\nexport default FormControl;\n\n\n\n// WEBPACK FOOTER //\n// ./components/FormControl.jsx"],"sourceRoot":""}