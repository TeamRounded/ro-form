{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 2763e7ee94e8482ed158","webpack:///external \"react\"","webpack:///external \"prop-types\"","webpack:///./index.js","webpack:///./components/Form.jsx","webpack:///./components/FormControl.jsx"],"names":["Form","FormControl","_onFormDataChange","changes","props","onChange","value","Object","keys","forEach","onFieldChange","field","_handleSubmit","e","preventDefault","onSubmit","context","formData","onFormDataChange","name","children","Component","propTypes","PropTypes","object","func","string","defaultProps","childContextTypes","isRequired","contextTypes","_onChange","path","formName","_value","join","controlProps","ControlComponent","control","oneOfType","instanceOf","arrayOf","any","undefined"],"mappings":"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","file":"ro-form.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ro-form\", [\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ro-form\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"ro-form\"] = factory(root[\"react\"], root[\"prop-types\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2763e7ee94e8482ed158","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = 1\n// module chunks = 0","import Form from './components/Form';\nimport FormControl from './components/FormControl';\n\nexport {\n  Form,\n  FormControl,\n};\n\n\n// WEBPACK FOOTER //\n// ./index.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Form extends Component {\n  static propTypes = {\n    value: PropTypes.object,\n    onChange: PropTypes.func,\n    onSubmit: PropTypes.func,\n    name: PropTypes.string,\n  };\n\n  static defaultProps = {\n    value: {},\n    onChange: () => {},\n    onFieldChange: () => {},\n    name: '_RoForm',\n  };\n\n  static childContextTypes = {\n    formData: PropTypes.object.isRequired,\n    onFormDataChange: PropTypes.object.isRequired,\n  };\n\n  static contextTypes = {\n    formData: PropTypes.object,\n    onFormDataChange: PropTypes.object,\n  };\n\n  getChildContext() {\n    let { formData, onFormDataChange } = this.context;\n    const { name } = this.props;\n    formData = formData || {};\n    onFormDataChange = onFormDataChange || {};\n    return {\n      formData: { ...formData, [name]: this.props.value },\n      onFormDataChange: { ...onFormDataChange, [name]: this._onFormDataChange },\n    };\n  }\n\n  _onFormDataChange = (changes) => {\n    this.props.onChange({ ...this.props.value, ...changes });\n    Object.keys(changes).forEach(field => this.props.onFieldChange(field, changes[field]));\n  };\n\n  _handleSubmit = (e) => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    onSubmit();\n  };\n\n  render() {\n    const { children, onSubmit } = this.props;\n\n    if (onSubmit) {\n      return (\n        <form onSubmit={this._handleSubmit}>\n          {children}\n        </form>\n      );\n    } else {\n      return (\n        <div>{children}</div>\n      );\n    }\n  }\n}\n\nexport default Form;\n\n\n\n// WEBPACK FOOTER //\n// ./components/Form.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass FormControl extends Component {\n  static propTypes = {\n    control: PropTypes.oneOfType([PropTypes.func, PropTypes.instanceOf(Component)]).isRequired,\n    controlProps: PropTypes.object,\n    formName: PropTypes.string,\n    path: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n\n    // Handle onChange manually\n    onChange: PropTypes.func,\n    // Pass value manually\n    value: PropTypes.any,\n  };\n\n  static defaultProps = {\n    controlProps: {},\n    formName: '_RoForm',\n    onChange: null,\n    value: undefined,\n  };\n\n  static contextTypes = {\n    formData: PropTypes.object.isRequired,\n    onFormDataChange: PropTypes.object.isRequired\n  };\n\n  _onChange = (value) => {\n    const { path, formName, onChange } = this.props;\n\n    if (onChange) {\n      onChange(value);\n    } else {\n      this.context.onFormDataChange[formName]({ [path]: value });\n    }\n  };\n\n  _value = () => {\n    const { value, path, formName } = this.props;\n    const { formData } = this.context;\n\n    if (typeof value === 'undefined') {\n      return formData[formName][path];\n    } else {\n      return value;\n    }\n  };\n\n  componentWillMount() {\n    const { formData } = this.context;\n    if (!formData) {\n      throw 'FormControl must be a child of Form component';\n    }\n    if (!formData[this.props.formName]) {\n      throw `FormControl is bound to \"${this.props.formName}\" name, but forms found are: ${Object.keys(formData).join(', ')}`;\n    }\n  }\n\n  render() {\n    const { controlProps } = this.props;\n\n    const ControlComponent = this.props.control;\n\n    return <ControlComponent {...controlProps} value={this._value()} onChange={this._onChange} />;\n  }\n}\n\nexport default FormControl;\n\n\n// WEBPACK FOOTER //\n// ./components/FormControl.jsx"],"sourceRoot":""}